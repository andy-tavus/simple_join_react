{"ast":null,"code":"var _jsxFileName = \"/Users/andywertner/Documents/dailyco/simple_join_react/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport DailyIframe from '@daily-co/daily-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [callFrame, setCallFrame] = useState(null);\n  const [participants, setParticipants] = useState([]);\n  const videoContainerRef = useRef(null);\n  useEffect(() => {\n    return () => {\n      // Clean up the call when component unmounts\n      if (callFrame) {\n        callFrame.destroy();\n      }\n    };\n  }, [callFrame]);\n  const joinRoom = roomId => {\n    if (callFrame) {\n      callFrame.destroy();\n    }\n    const daily = DailyIframe.createFrame(videoContainerRef.current, {\n      iframeStyle: {\n        width: '100%',\n        height: '100%',\n        border: 'none',\n        backgroundColor: 'transparent'\n      },\n      showLeaveButton: true\n    });\n    daily.on('participant-joined', event => {\n      console.log('Participant joined:', event.participant);\n      updateParticipants(daily);\n    });\n    daily.on('participant-left', () => {\n      updateParticipants(daily);\n    });\n    daily.on('participant-updated', () => {\n      updateParticipants(daily);\n    });\n    daily.join({\n      url: `https://your-domain.daily.co/${roomId}`\n    });\n    setCallFrame(daily);\n  };\n  const updateParticipants = daily => {\n    const participantData = daily.participants();\n    if (participantData) {\n      const participantList = Object.values(participantData);\n      setParticipants(participantList);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter room ID\",\n        onKeyPress: e => e.key === 'Enter' && joinRoom(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => joinRoom(document.querySelector('input').value),\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      ref: videoContainerRef,\n      style: {\n        width: '800px',\n        height: '600px'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"participants-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Participants (\", participants.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: participants.map(participant => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [participant.user_name || 'Guest', participant.local ? ' (You)' : '']\n        }, participant.session_id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"W0hevdKw+INNULd2Nr0dYLccIoo=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","DailyIframe","jsxDEV","_jsxDEV","App","_s","callFrame","setCallFrame","participants","setParticipants","videoContainerRef","destroy","joinRoom","roomId","daily","createFrame","current","iframeStyle","width","height","border","backgroundColor","showLeaveButton","on","event","console","log","participant","updateParticipants","join","url","participantData","participantList","Object","values","className","children","type","placeholder","onKeyPress","e","key","target","value","fileName","_jsxFileName","lineNumber","columnNumber","onClick","document","querySelector","ref","style","length","map","user_name","local","session_id","_c","$RefreshReg$"],"sources":["/Users/andywertner/Documents/dailyco/simple_join_react/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport DailyIframe from '@daily-co/daily-js';\n\nfunction App() {\n  const [callFrame, setCallFrame] = useState(null);\n  const [participants, setParticipants] = useState([]);\n  const videoContainerRef = useRef(null);\n\n  useEffect(() => {\n    return () => {\n      // Clean up the call when component unmounts\n      if (callFrame) {\n        callFrame.destroy();\n      }\n    };\n  }, [callFrame]);\n\n  const joinRoom = (roomId) => {\n    if (callFrame) {\n      callFrame.destroy();\n    }\n\n    const daily = DailyIframe.createFrame(videoContainerRef.current, {\n      iframeStyle: {\n        width: '100%',\n        height: '100%',\n        border: 'none',\n        backgroundColor: 'transparent',\n      },\n      showLeaveButton: true,\n    });\n\n    daily.on('participant-joined', (event) => {\n      console.log('Participant joined:', event.participant);\n      updateParticipants(daily);\n    });\n\n    daily.on('participant-left', () => {\n      updateParticipants(daily);\n    });\n\n    daily.on('participant-updated', () => {\n      updateParticipants(daily);\n    });\n\n    daily.join({ url: `https://your-domain.daily.co/${roomId}` });\n    setCallFrame(daily);\n  };\n\n  const updateParticipants = (daily) => {\n    const participantData = daily.participants();\n    if (participantData) {\n      const participantList = Object.values(participantData);\n      setParticipants(participantList);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"controls\">\n        <input \n          type=\"text\" \n          placeholder=\"Enter room ID\" \n          onKeyPress={(e) => e.key === 'Enter' && joinRoom(e.target.value)}\n        />\n        <button onClick={(e) => joinRoom(document.querySelector('input').value)}>\n          Join Room\n        </button>\n      </div>\n      \n      <div className=\"video-container\" ref={videoContainerRef} style={{ width: '800px', height: '600px' }}></div>\n      \n      <div className=\"participants-list\">\n        <h3>Participants ({participants.length})</h3>\n        <ul>\n          {participants.map((participant) => (\n            <li key={participant.session_id}>\n              {participant.user_name || 'Guest'} \n              {participant.local ? ' (You)' : ''}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}