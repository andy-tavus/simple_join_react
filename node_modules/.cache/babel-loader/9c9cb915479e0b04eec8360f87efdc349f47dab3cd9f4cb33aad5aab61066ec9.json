{"ast":null,"code":"var _jsxFileName = \"/Users/andywertner/Documents/dailyco/simple_join_react/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef } from 'react';\nimport DailyJs from '@daily-co/daily-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [callObject, setCallObject] = useState(null);\n  const [participants, setParticipants] = useState({});\n  const [error, setError] = useState(null);\n  const videoRefs = useRef({});\n  const audioRefs = useRef({});\n  useEffect(() => {\n    return () => {\n      if (callObject) {\n        callObject.destroy();\n      }\n    };\n  }, [callObject]);\n  const subscribeToRoom = async roomId => {\n    try {\n      if (callObject) {\n        callObject.destroy();\n      }\n      setError(null);\n\n      // Create a new call object\n      const daily = DailyJs.createCallObject({\n        audioSource: true,\n        videoSource: true,\n        subscribeToTracksAutomatically: false\n      });\n\n      // Set up event handlers\n      daily.on('joined-meeting', handleJoinedMeeting);\n      daily.on('participant-joined', handleParticipantJoined);\n      daily.on('participant-left', handleParticipantLeft);\n      daily.on('participant-updated', handleParticipantUpdated);\n      daily.on('error', handleError);\n      daily.on('track-started', handleTrackStarted);\n      daily.on('track-stopped', handleTrackStopped);\n\n      // Join the room\n      await daily.join({\n        url: `https://tavus.daily.co/${roomId}`,\n        userName: \"Local\" // Specify the name of the joining participant\n      });\n      setCallObject(daily);\n\n      // Add a delay before checking for participants\n      setTimeout(() => {\n        checkForExistingParticipant(daily);\n      }, 1500);\n    } catch (err) {\n      console.error('Error subscribing to room:', err);\n      setError(err.message || 'Failed to subscribe to the room');\n    }\n  };\n  const handleTrackStarted = event => {\n    console.log('Track started:', event);\n    const {\n      participant,\n      track\n    } = event;\n\n    // Get the full participant object from the call object\n    if (!callObject) return;\n    const participants = callObject.participants();\n    const fullParticipant = participants[participant.session_id];\n    if (!fullParticipant) {\n      console.log('Could not find full participant object');\n      return;\n    }\n    console.log('Full participant:', fullParticipant);\n    if (!fullParticipant.local) {\n      // Subscribe to the participant's tracks\n      callObject.updateParticipant(fullParticipant.session_id, {\n        setSubscribed: {\n          video: true,\n          audio: true\n        }\n      });\n    }\n  };\n  const handleTrackStopped = event => {\n    console.log('Track stopped:', event);\n  };\n  const handleParticipantTrack = (participant, track) => {\n    console.log('Handling track for participant:', participant.user_id, track);\n\n    // Check if track is in a valid state and has a persistentTrack\n    if (!track.persistentTrack) {\n      console.log('Track has no persistentTrack, subscribing...');\n      // Subscribe to the participant's tracks\n      callObject.updateParticipant(participant.session_id, {\n        setSubscribed: {\n          video: true,\n          audio: true\n        }\n      });\n      return;\n    }\n    if (track.state !== 'playable' && track.state !== 'sendable') {\n      console.log(`Track not in valid state: ${track.state}`);\n      return;\n    }\n    if (track.kind === 'video') {\n      const videoElement = document.getElementById('participant-video');\n      if (videoElement) {\n        const videoStream = new MediaStream([track.persistentTrack]);\n        videoElement.srcObject = videoStream;\n        videoElement.play().catch(err => {\n          console.error('Error playing video:', err);\n        });\n      }\n    } else if (track.kind === 'audio') {\n      const audioStream = new MediaStream([track.persistentTrack]);\n      const audio = new Audio();\n      audio.srcObject = audioStream;\n      audio.autoplay = true;\n    }\n  };\n  const checkForExistingParticipant = daily => {\n    if (!daily) {\n      console.log('Daily object is null');\n      return;\n    }\n    const participants = daily.participants();\n    if (!participants) {\n      console.log('No participants available');\n      return;\n    }\n    console.log('Participants:', participants);\n    const existingParticipant = Object.values(participants).find(participant => participant.local === false);\n    if (existingParticipant) {\n      console.log(`Existing participant found: ${existingParticipant.user_id}`);\n\n      // Subscribe to the participant's tracks first\n      daily.updateParticipant(existingParticipant.session_id, {\n        setSubscribed: {\n          video: true,\n          audio: true\n        }\n      });\n\n      // Add a delay before checking tracks\n      setTimeout(() => {\n        var _existingParticipant$, _existingParticipant$2;\n        // Check video track\n        if ((_existingParticipant$ = existingParticipant.tracks) !== null && _existingParticipant$ !== void 0 && _existingParticipant$.video) {\n          console.log('Video track state:', existingParticipant.tracks.video.state);\n          handleParticipantTrack(existingParticipant, existingParticipant.tracks.video);\n        }\n\n        // Check audio track\n        if ((_existingParticipant$2 = existingParticipant.tracks) !== null && _existingParticipant$2 !== void 0 && _existingParticipant$2.audio) {\n          console.log('Audio track state:', existingParticipant.tracks.audio.state);\n          handleParticipantTrack(existingParticipant, existingParticipant.tracks.audio);\n        }\n      }, 1000);\n    } else {\n      console.log('No existing participant found.');\n    }\n  };\n  const handleJoinedMeeting = event => {\n    console.log('Joined meeting:', event);\n  };\n  const handleParticipantJoined = event => {\n    const {\n      participant\n    } = event;\n    console.log('Participant joined:', participant);\n    if (!participant.local && callObject) {\n      // Add a small delay to ensure the participant is fully initialized\n      setTimeout(() => {\n        checkForExistingParticipant(callObject);\n      }, 500);\n    }\n  };\n  const handleParticipantLeft = event => {\n    const {\n      participant\n    } = event;\n    console.log('Participant left:', participant);\n  };\n  const handleParticipantUpdated = event => {\n    const {\n      participant\n    } = event;\n    console.log('Participant updated:', participant);\n    if (!participant.local && callObject) {\n      checkForExistingParticipant(callObject);\n    }\n  };\n  const handleError = error => {\n    console.error('Daily.co error:', error);\n    setError(error.errorMsg || 'An error occurred with the video call');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"app\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Enter room ID\",\n        onKeyPress: e => e.key === 'Enter' && subscribeToRoom(e.target.value)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: e => subscribeToRoom(document.querySelector('input').value),\n        children: \"Join Room\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error-message\",\n      style: {\n        color: 'red',\n        marginBottom: '10px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"video-container\",\n      children: /*#__PURE__*/_jsxDEV(\"video\", {\n        id: \"participant-video\",\n        autoPlay: true,\n        playsInline: true,\n        style: {\n          width: '100%',\n          maxWidth: '800px',\n          margin: '20px auto'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"TYe5FXWAQ2tg2RLRfGjyuDFNt0o=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useRef","DailyJs","jsxDEV","_jsxDEV","App","_s","callObject","setCallObject","participants","setParticipants","error","setError","videoRefs","audioRefs","destroy","subscribeToRoom","roomId","daily","createCallObject","audioSource","videoSource","subscribeToTracksAutomatically","on","handleJoinedMeeting","handleParticipantJoined","handleParticipantLeft","handleParticipantUpdated","handleError","handleTrackStarted","handleTrackStopped","join","url","userName","setTimeout","checkForExistingParticipant","err","console","message","event","log","participant","track","fullParticipant","session_id","local","updateParticipant","setSubscribed","video","audio","handleParticipantTrack","user_id","persistentTrack","state","kind","videoElement","document","getElementById","videoStream","MediaStream","srcObject","play","catch","audioStream","Audio","autoplay","existingParticipant","Object","values","find","_existingParticipant$","_existingParticipant$2","tracks","errorMsg","className","children","type","placeholder","onKeyPress","e","key","target","value","fileName","_jsxFileName","lineNumber","columnNumber","onClick","querySelector","style","color","marginBottom","id","autoPlay","playsInline","width","maxWidth","margin","_c","$RefreshReg$"],"sources":["/Users/andywertner/Documents/dailyco/simple_join_react/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport DailyJs from '@daily-co/daily-js';\n\nfunction App() {\n  const [callObject, setCallObject] = useState(null);\n  const [participants, setParticipants] = useState({});\n  const [error, setError] = useState(null);\n  const videoRefs = useRef({});\n  const audioRefs = useRef({});\n\n  useEffect(() => {\n    return () => {\n      if (callObject) {\n        callObject.destroy();\n      }\n    };\n  }, [callObject]);\n\n  const subscribeToRoom = async (roomId) => {\n    try {\n      if (callObject) {\n        callObject.destroy();\n      }\n\n      setError(null);\n\n      // Create a new call object\n      const daily = DailyJs.createCallObject({\n        audioSource: true,\n        videoSource: true,\n        subscribeToTracksAutomatically: false,\n      });\n\n      // Set up event handlers\n      daily.on('joined-meeting', handleJoinedMeeting);\n      daily.on('participant-joined', handleParticipantJoined);\n      daily.on('participant-left', handleParticipantLeft);\n      daily.on('participant-updated', handleParticipantUpdated);\n      daily.on('error', handleError);\n      daily.on('track-started', handleTrackStarted);\n      daily.on('track-stopped', handleTrackStopped);\n\n      // Join the room\n      await daily.join({\n        url: `https://tavus.daily.co/${roomId}`,\n        userName: \"Local\" // Specify the name of the joining participant\n      });\n\n      setCallObject(daily);\n\n      // Add a delay before checking for participants\n      setTimeout(() => {\n        checkForExistingParticipant(daily);\n      }, 1500);\n\n    } catch (err) {\n      console.error('Error subscribing to room:', err);\n      setError(err.message || 'Failed to subscribe to the room');\n    }\n  };\n\n  const handleTrackStarted = (event) => {\n    console.log('Track started:', event);\n    const { participant, track } = event;\n    \n    // Get the full participant object from the call object\n    if (!callObject) return;\n    \n    const participants = callObject.participants();\n    const fullParticipant = participants[participant.session_id];\n    \n    if (!fullParticipant) {\n      console.log('Could not find full participant object');\n      return;\n    }\n\n    console.log('Full participant:', fullParticipant);\n    \n    if (!fullParticipant.local) {\n      // Subscribe to the participant's tracks\n      callObject.updateParticipant(fullParticipant.session_id, {\n        setSubscribed: {\n          video: true,\n          audio: true\n        }\n      });\n    }\n  };\n\n  const handleTrackStopped = (event) => {\n    console.log('Track stopped:', event);\n  };\n\n  const handleParticipantTrack = (participant, track) => {\n    console.log('Handling track for participant:', participant.user_id, track);\n    \n    // Check if track is in a valid state and has a persistentTrack\n    if (!track.persistentTrack) {\n      console.log('Track has no persistentTrack, subscribing...');\n      // Subscribe to the participant's tracks\n      callObject.updateParticipant(participant.session_id, {\n        setSubscribed: {\n          video: true,\n          audio: true\n        }\n      });\n      return;\n    }\n\n    if (track.state !== 'playable' && track.state !== 'sendable') {\n      console.log(`Track not in valid state: ${track.state}`);\n      return;\n    }\n\n    if (track.kind === 'video') {\n      const videoElement = document.getElementById('participant-video');\n      if (videoElement) {\n        const videoStream = new MediaStream([track.persistentTrack]);\n        videoElement.srcObject = videoStream;\n        videoElement.play().catch(err => {\n          console.error('Error playing video:', err);\n        });\n      }\n    } else if (track.kind === 'audio') {\n      const audioStream = new MediaStream([track.persistentTrack]);\n      const audio = new Audio();\n      audio.srcObject = audioStream;\n      audio.autoplay = true;\n    }\n  };\n\n  const checkForExistingParticipant = (daily) => {\n    if (!daily) {\n      console.log('Daily object is null');\n      return;\n    }\n\n    const participants = daily.participants();\n    if (!participants) {\n      console.log('No participants available');\n      return;\n    }\n\n    console.log('Participants:', participants);\n\n    const existingParticipant = Object.values(participants).find(\n      (participant) => participant.local === false\n    );\n\n    if (existingParticipant) {\n      console.log(`Existing participant found: ${existingParticipant.user_id}`);\n      \n      // Subscribe to the participant's tracks first\n      daily.updateParticipant(existingParticipant.session_id, {\n        setSubscribed: {\n          video: true,\n          audio: true\n        }\n      });\n\n      // Add a delay before checking tracks\n      setTimeout(() => {\n        // Check video track\n        if (existingParticipant.tracks?.video) {\n          console.log('Video track state:', existingParticipant.tracks.video.state);\n          handleParticipantTrack(existingParticipant, existingParticipant.tracks.video);\n        }\n\n        // Check audio track\n        if (existingParticipant.tracks?.audio) {\n          console.log('Audio track state:', existingParticipant.tracks.audio.state);\n          handleParticipantTrack(existingParticipant, existingParticipant.tracks.audio);\n        }\n      }, 1000);\n    } else {\n      console.log('No existing participant found.');\n    }\n  };\n\n  const handleJoinedMeeting = (event) => {\n    console.log('Joined meeting:', event);\n  };\n\n  const handleParticipantJoined = (event) => {\n    const { participant } = event;\n    console.log('Participant joined:', participant);\n    if (!participant.local && callObject) {\n      // Add a small delay to ensure the participant is fully initialized\n      setTimeout(() => {\n        checkForExistingParticipant(callObject);\n      }, 500);\n    }\n  };\n\n  const handleParticipantLeft = (event) => {\n    const { participant } = event;\n    console.log('Participant left:', participant);\n  };\n\n  const handleParticipantUpdated = (event) => {\n    const { participant } = event;\n    console.log('Participant updated:', participant);\n    if (!participant.local && callObject) {\n      checkForExistingParticipant(callObject);\n    }\n  };\n\n  const handleError = (error) => {\n    console.error('Daily.co error:', error);\n    setError(error.errorMsg || 'An error occurred with the video call');\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"controls\">\n        <input \n          type=\"text\" \n          placeholder=\"Enter room ID\" \n          onKeyPress={(e) => e.key === 'Enter' && subscribeToRoom(e.target.value)}\n        />\n        <button onClick={(e) => subscribeToRoom(document.querySelector('input').value)}>\n          Join Room\n        </button>\n      </div>\n      \n      {error && (\n        <div className=\"error-message\" style={{ color: 'red', marginBottom: '10px' }}>\n          {error}\n        </div>\n      )}\n      \n      <div className=\"video-container\">\n        <video\n          id=\"participant-video\"\n          autoPlay\n          playsInline\n          style={{ width: '100%', maxWidth: '800px', margin: '20px auto' }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}